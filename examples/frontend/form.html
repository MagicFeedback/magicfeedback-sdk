<!doctype html>
<html lang="en">
<!-- HEAD -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>MagicFeedbackAI for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- Custom styles for this template -->
    <link href="../assets/cover.css" rel="stylesheet"/>
    <link href="../../public/style.css" rel="stylesheet"/>
</head>

<!-- BODY -->
<body class="text-center">

<div class="cover-container d-flex h-100 p-3 mx-auto flex-column">
    <!-- HEADER -->
    <header class="masthead">
        <div class="inner">
            <nav class="nav nav-masthead justify-content-center">
                <!-- LOGO -->
                <img src="../assets/logo-dark-long.png" alt="MagicFeedbackAI" width="250px" height="auto">
            </nav>
        </div>
    </header>

    <!-- FORM -->
    <main role="main" class="inner cover">
        <div class="card">
            <div class="card-header" style="display: none">
                <h6 class="card-title" id="count-questions"></h6>
            </div>
            <div class="breadcrumb">
            </div>
            <div id="static_form" style="margin-bottom: 20px">
                <div id="form_div" style="padding: 0px 30px 0px 30px">
                    <!-- SPACE FOR THE FORM -->
                </div>
            </div>
        </div>
    </main>
</div>
<!-- FOOTER -->
<footer class="mastfoot mt-auto">
    <div class="inner">
        <p>Demo for <a href="https://magicfeedback.io/">MagicFeedback SDK</a>, by <a
                href="https://magicfeedback.io/">@magicfeedbackAI</a>.</p>
    </div>
</footer>
</body>
<!-- JavaScript
================================================== -->
<script src="../../dist/magicfeedback-sdk.browser.js"></script>
<script>

    // MagicFeedback
    window.magicfeedback.init({
        debug: true,
    });

    // MagicFeedback: Setup the form with the form ID and the public key
    let form = window.magicfeedback.form(
        "/* Form / Survey ID:*/",
        "/*PublicKey*/"
    );

    // MagicFeedback: Config with the callbacks and other options
    const sdkConfig = {
        addButton: true,
        beforeSubmitEvent: function () {
            console.log("BEFORE")
        },
        afterSubmitEvent: function (response) {
            console.log("AFTER", response);

            // Show success or error message
            if (response.error) alert(response.error);
            else alert("Success! Thank you for your feedback");
        },
        onLoadedEvent: function (response) {
            console.log("LOADED", response);
        },
    }

    // MagicFeedback: Generate form with the config in the local code, sending the id of the div where the form will be rendered
    form.generate("form_div", sdkConfig);

</script>
</body>
</html>
